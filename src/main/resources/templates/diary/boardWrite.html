
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- include libraries(jQuery, bootstrap) -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- include summernote css/js -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

    <!-- 서머노트를 위해 추가해야할 부분 -->
    <script src="${pageContext.request.contextPath}/resources/summernote/summernote-0.8.18-dist/summernote-lite.js"></script>
    <script src="${pageContext.request.contextPath}/resources/summernote/summernote-0.8.18-dist/lang/summernote-ko-KR.js"></script>
    <link rel="stylesheet" href="${pageContext.request.contextPath}/resources/summernote/summernote-0.8.18-dist/summernote-lite.css">



    <title>글쓰기</title>
    <style>
        body {
            background-image: url("https://cdn.pixabay.com/photo/2020/12/10/08/44/mountains-5819652_960_720.jpg");
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            text-align: center;
        }
        /* The switch - the box around the slider */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
            vertical-align:middle;
        }

        /* Hide default HTML checkbox */
        .switch input {display:none;}

        /* The slider */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }

        input.checkbox:checked + .slider {
            background-color: #2196F3;
        }

        input.checkbox:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input.checkbox:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        p.toggle {
            margin:0px;
            display:inline-block;
            font-size:15px;
            font-weight:bold;
        }

    </style>
<!--    <script type="text/javascript">-->
<!--        $(document).ready(function() {-->
<!--            $('#summernote').summernote({-->
<!--                placeholder: 'content',-->
<!--                minHeight: 370,-->
<!--                maxHeight: null,-->
<!--                focus: true,-->
<!--                lang : 'ko-KR'-->
<!--            });-->


<!--                var check = $("input[type='checkbox']");-->
<!--                check.click(function(){-->
<!--                $("p.toggle").toggle();-->
<!--            });-->

<!-- -->

<!--        });-->
<!--        function goWrite(frm){-->
<!--            var title = frm.title.value;-->
<!--            var content = frm.content.value;-->

<!--            if(title.trim() == ''){-->
<!--                alert("제목을 입력해주세요");-->
<!--                return false;-->
<!--            }-->
<!--            if(content.trim() == ''){-->
<!--                alert("내용을 입력해주세요");-->
<!--                return false;-->
<!--            }-->
<!--            debugger;-->
<!--            $("form").attr("method", "POST").attr("action", "/diary/addDiary").submit();-->
<!--        }-->


<!--        $(function geoFindMe() {-->

<!--            const status = document.querySelector('#status');-->
<!--            const mapLink = document.querySelector('#map-link');-->
<!--            const iconElement = document.querySelector(".weather-icon");-->

<!--            mapLink.href = '';-->
<!--            mapLink.textContent = '';-->

<!--            function success(position) {-->
<!--                var latitude  = position.coords.latitude;-->
<!--                var longitude = position.coords.longitude;-->
<!--                const coordsObj = {-->
<!--                    latitude,-->
<!--                    longitude-->
<!--                };-->
<!--                var url = "https://api.openweathermap.org/data/2.5/weather?lat=" + latitude + "&lon="+ longitude + "&appid=7d9ec3e89f78fa3eef02069216cce88c&units=metric";-->


<!--                //saveCoords(coordsObj);-->
<!--                getWeather(latitude, longitude);-->

<!--            }-->



<!--            function error() {-->
<!--                status.textContent = 'Unable to retrieve your location';-->
<!--            }-->

<!--            if(!navigator.geolocation) {-->
<!--                status.textContent = 'Geolocation is not supported by your browser';-->
<!--            } else {-->
<!--                status.textContent = '';-->
<!--                navigator.geolocation.getCurrentPosition(success, error);-->
<!--            }-->

<!--            function getWeather(lat, lon){-->
<!--                fetch(-->
<!--                    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=7d9ec3e89f78fa3eef02069216cce88c&units=metric`-->
<!--                )-->
<!--                    .then(function(response){-->
<!--                        return response.json();-->
<!--                    })-->
<!--                    .then(function(json){-->
<!--                        console.log(json);-->
<!--                        const temparature = String(json.main.temp).substring(0,2);  //온도-->
<!--                        const place = json.name;   // 사용자 위치-->
<!--                        var icon = json.weather[0].icon;-->

<!--                        $('#weather').append(`${temparature}`)-->
<!--                        $('#test').append(`${place}`)-->

<!--                        $(".pic").removeClass("pic").addClass(icon);-->
<!--                        var imgURL = "/images/weather/" + icon + ".png";-->
<!--                        $('#img').attr("src", imgURL);-->
<!--                    });-->


<!--            }-->
<!--        });-->

<!--        document.querySelector('#find-me').addEventListener('click', geoFindMe);-->

<!--    </script>-->



</head>
<body>
<!--<form name="writeDiary">-->

    <p id = "status"></p>
    <a id = "map-link" target="_blank"></a>
    <div id="temp" style="float: right; padding-left: 10px; padding-right: 10px;">	&#8451;</div> &nbsp;
    <div id="weather" style="float: right; padding-left: 20px"></div>
    <img src="" id="img" width="20" height="20" style="float: right;"/>
    <div id="test" style="float: right; padding-left: 10px; padding-right: 20px;">&#127759;          </div>

    <br><br>


<h2 style="text-align: center; margin-top: 50px">일기 작성</h2><br><br><br>

<div style="width: 60%; margin: auto;">
    <form method="post" action="/diary/addDiarys">
        <input type="text" id="diaryTitle" name="diaryTitle" style="width: 40%;" placeholder="제목"/>
        <br><br>
        <textarea id="summernote" name="diaryText">


        </textarea>

        <span style="float: right">
            <span style="color: white">&#9964; 일기공유</span> &nbsp;&nbsp;
        <label class="switch">
            <input type="checkbox" class="checkbox" width="20" height="10">
            <span class="slider round"></span>
        </label>
        <p class="toggle">OFF</p><p class="toggle" style="display:none;">ON</p>
        </span>
        <br><br>
        <input id="subBtn" class="subBtn" type="submit" value="작성완료" style="text-align: center" onclick="goWrite(this.form)"/>

        <br><br><br><br>


    </form>
</div>

</form>
</body>
<script>
    function goWrite(frm) {

        var title = frm.diaryTitle.value;
        var content = frm.summernote.value;

        if (title.trim() == ''){
            alert("제목을 입력해주세요");
            return false;
        }
        // if (writer.trim() == ''){
        //     alert("작성자를 입력해주세요");
        //     return false;
        // }
        if (content.trim() == ''){
            alert("내용을 입력해주세요");
            return false;
        }
        debugger;
        frm.submit();

    }
</script>

</html>